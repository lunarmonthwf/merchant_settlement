<!DOCTYPE html>
<html>
  <head>
    <title>shipping&amp;refund</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/shipping_refund/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="resources/scripts/prototypePre.js"></script>
    <script src="data/document.js"></script>
    <script src="resources/scripts/prototypePost.js"></script>
    <script src="files/shipping_refund/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (Rectangle) -->
      <div id="u232" class="ax_default label">
        <div id="u232_div" class=""></div>
        <div id="u232_text" class="text ">
          <p><span>当每月的shipping report 、refund report出现sku的记录时，</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u233" class="ax_default label">
        <div id="u233_div" class=""></div>
        <div id="u233_text" class="text ">
          <p><span>前提条件：</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u234" class="ax_default label">
        <div id="u234_div" class=""></div>
        <div id="u234_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">1.</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">默认所有的退款，均由商家承担，别样不承担给用户退款的任何部分</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u235" class="ax_default label">
        <div id="u235_div" class=""></div>
        <div id="u235_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">2.</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">在每个月财务给商家打款后，需要告知系统每月的每个sku项的打款金额</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u236" class="ax_default label">
        <div id="u236_div" class=""></div>
        <div id="u236_text" class="text ">
          <p><span>我们需要综合sku的所有shipping 、refund、已打款记录，判断本次sku的是向商家打款/索要/什么都不做</span></p>
        </div>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u237" class="ax_default line">
        <img id="u237_img" class="img " src="images/shipping_refund/u237.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u238" class="ax_default label">
        <div id="u238_div" class=""></div>
        <div id="u238_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">n</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u239" class="ax_default label">
        <div id="u239_div" class=""></div>
        <div id="u239_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">+</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&nbsp; </span><span style="font-family:'ArialMT', 'Arial';">sku</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"> </span><span style="font-family:'ArialMT', 'Arial';">a</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u240" class="ax_default label">
        <div id="u240_div" class=""></div>
        <div id="u240_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">n+w</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u241" class="ax_default label">
        <div id="u241_div" class=""></div>
        <div id="u241_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">refund report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&nbsp;&nbsp; sku </span><span style="font-family:'ArialMT', 'Arial';">a</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u242" class="ax_default label">
        <div id="u242_div" class=""></div>
        <div id="u242_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">.&nbsp; sku </span><span style="font-family:'ArialMT', 'Arial';">a</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u243" class="ax_default box_1">
        <div id="u243_div" class=""></div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u244" class="ax_default label">
        <div id="u244_div" class=""></div>
        <div id="u244_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">n</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u245" class="ax_default label">
        <div id="u245_div" class=""></div>
        <div id="u245_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">n+w</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u246" class="ax_default label">
        <div id="u246_div" class=""></div>
        <div id="u246_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">sku a</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">结算金额</span><span style="font-family:'ArialMT', 'Arial';">100</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u247" class="ax_default label">
        <div id="u247_div" class=""></div>
        <div id="u247_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">+</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u248" class="ax_default label">
        <div id="u248_div" class=""></div>
        <div id="u248_text" class="text ">
          <p><span>已给商家打款100元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u249" class="ax_default label">
        <div id="u249_div" class=""></div>
        <div id="u249_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">refund report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">：30元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u250" class="ax_default label">
        <div id="u250_div" class=""></div>
        <div id="u250_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u251" class="ax_default box_1">
        <img id="u251_img" class="img " src="images/shipping_refund/u251.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u252" class="ax_default label">
        <div id="u252_div" class=""></div>
        <div id="u252_text" class="text ">
          <p><span>0</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u253" class="ax_default label">
        <div id="u253_div" class=""></div>
        <div id="u253_text" class="text ">
          <p><span>30元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u254" class="ax_default label">
        <div id="u254_div" class=""></div>
        <div id="u254_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">n</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u255" class="ax_default label">
        <div id="u255_div" class=""></div>
        <div id="u255_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">+</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&nbsp; </span><span style="font-family:'ArialMT', 'Arial';">sku</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"> </span><span style="font-family:'ArialMT', 'Arial';">a</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u256" class="ax_default label">
        <div id="u256_div" class=""></div>
        <div id="u256_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">n+w</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u257" class="ax_default label">
        <div id="u257_div" class=""></div>
        <div id="u257_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">refund report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&nbsp;&nbsp; sku </span><span style="font-family:'ArialMT', 'Arial';">a</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u258" class="ax_default label">
        <div id="u258_div" class=""></div>
        <div id="u258_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">.&nbsp; sku </span><span style="font-family:'ArialMT', 'Arial';">a</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u259" class="ax_default box_1">
        <div id="u259_div" class=""></div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u260" class="ax_default label">
        <div id="u260_div" class=""></div>
        <div id="u260_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">n+w+m</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）月</span></p>
        </div>
      </div>

      <!-- Unnamed (Vertical Line) -->
      <div id="u261" class="ax_default line">
        <img id="u261_img" class="img " src="images/shipping_refund/u237.png"/>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u262" class="ax_default label">
        <div id="u262_div" class=""></div>
        <div id="u262_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">n</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u263" class="ax_default label">
        <div id="u263_div" class=""></div>
        <div id="u263_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">n+w</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u264" class="ax_default label">
        <div id="u264_div" class=""></div>
        <div id="u264_text" class="text ">
          <p><span style="font-family:'ArialMT', 'Arial';">sku a</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">结算金额</span><span style="font-family:'ArialMT', 'Arial';">100</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u265" class="ax_default label">
        <div id="u265_div" class=""></div>
        <div id="u265_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">+</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u266" class="ax_default label">
        <div id="u266_div" class=""></div>
        <div id="u266_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">refund report</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">：30元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u267" class="ax_default label">
        <div id="u267_div" class=""></div>
        <div id="u267_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（-）</span><span style="font-family:'ArialMT', 'Arial';">shipping report</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u268" class="ax_default label">
        <div id="u268_div" class=""></div>
        <div id="u268_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">综合</span><span style="font-family:'ArialMT', 'Arial';">sku a</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">整个的</span><span style="font-family:'ArialMT', 'Arial';">shipping</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">、</span><span style="font-family:'ArialMT', 'Arial';">refund</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，</span><span style="font-family:'ArialMT', 'Arial';">sku </span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">a的结果为-30元，考虑已经给商家打款的金额：100元（&gt;30），所以找商家要回30元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u269" class="ax_default label">
        <div id="u269_div" class=""></div>
        <div id="u269_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">（</span><span style="font-family:'ArialMT', 'Arial';">n+w+m</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">）月</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u270" class="ax_default label">
        <div id="u270_div" class=""></div>
        <div id="u270_text" class="text ">
          <p><span>（n+w）月，sku a的invoice=-30</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u271" class="ax_default label">
        <div id="u271_div" class=""></div>
        <div id="u271_text" class="text ">
          <p><span>已给商家打款100元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u272" class="ax_default label">
        <div id="u272_div" class=""></div>
        <div id="u272_text" class="text ">
          <p><span>已给商家打款0元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u273" class="ax_default label">
        <div id="u273_div" class=""></div>
        <div id="u273_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">在（n+w）月，综合</span><span style="font-family:'ArialMT', 'Arial';">sku a</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">整个的</span><span style="font-family:'ArialMT', 'Arial';">shipping</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">、</span><span style="font-family:'ArialMT', 'Arial';">refund</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，</span><span style="font-family:'ArialMT', 'Arial';">sku </span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">a的结果为应付给商家0元，</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">考虑已经给商家打款的金额：100元，所以找商家要回100元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u274" class="ax_default label">
        <div id="u274_div" class=""></div>
        <div id="u274_text" class="text ">
          <p><span>（n+w）月，sku a的invoice=70元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u275" class="ax_default label">
        <div id="u275_div" class=""></div>
        <div id="u275_text" class="text ">
          <p><span>已给商家打款70元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u276" class="ax_default label">
        <div id="u276_div" class=""></div>
        <div id="u276_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">在（n+w+m）月，综合</span><span style="font-family:'ArialMT', 'Arial';">sku a</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">整个的</span><span style="font-family:'ArialMT', 'Arial';">shipping</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">、</span><span style="font-family:'ArialMT', 'Arial';">refund</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，</span><span style="font-family:'ArialMT', 'Arial';">sku </span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">a的结果为向商家索要30元，</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">考虑已经给商家打款的金额：0元，所以找商家要回0元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u277" class="ax_default label">
        <div id="u277_div" class=""></div>
        <div id="u277_text" class="text ">
          <p><span>（n+w）月，sku a的invoice=0元</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u278" class="ax_default label">
        <div id="u278_div" class=""></div>
        <div id="u278_text" class="text ">
          <p><span>第一步：查询当月产生了shipping\refund的sku的所有shipping、refund记录，依据所有记录判断，知道应付给商家的金额/应找商家拿回的金额</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u279" class="ax_default label">
        <div id="u279_div" class=""></div>
        <div id="u279_text" class="text ">
          <p><span>第二步：若第一步的结论为应付商家x元，则比较已付商家的金额y元和（第一步结论中）应付商家的金额x元，</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u280" class="ax_default label">
        <div id="u280_div" class=""></div>
        <div id="u280_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">如果</span><span style="font-family:'ArialMT', 'Arial';">y</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">大于等于</span><span style="font-family:'ArialMT', 'Arial';">x</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，则本次的invoice=0</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u281" class="ax_default label">
        <div id="u281_div" class=""></div>
        <div id="u281_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">如果</span><span style="font-family:'ArialMT', 'Arial';">y</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">小于</span><span style="font-family:'ArialMT', 'Arial';">x</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，则本次的invoice=x-y </span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u282" class="ax_default label">
        <div id="u282_div" class=""></div>
        <div id="u282_text" class="text ">
          <p><span>第二步：若第一步的结论为向商家索要x元，则比较已付商家的金额y元和（第一步结论中）向商家索要的金额x元，</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u283" class="ax_default label">
        <div id="u283_div" class=""></div>
        <div id="u283_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">如果</span><span style="font-family:'ArialMT', 'Arial';">y</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">大于等于|</span><span style="font-family:'ArialMT', 'Arial';">x|</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，则本次的invoice=-x</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u284" class="ax_default label">
        <div id="u284_div" class=""></div>
        <div id="u284_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">如果</span><span style="font-family:'ArialMT', 'Arial';">y</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">小于|</span><span style="font-family:'ArialMT', 'Arial';">x|</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">，则本次的invoice=-y </span></p>
        </div>
      </div>
    </div>
  </body>
</html>
